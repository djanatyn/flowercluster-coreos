{"units": [{"enable": true, "name": "etcd2.service"}, {"enable": true, "name": "var-lib-docker.mount", "contents": "[Unit]\nDescription=mount persistent drive to /var/lib/docker\n[Mount]\nWhat=/dev/disk/by-id/google-stable-docker\nWhere=/var/lib/docker\nType=ext4\n"}, {"dropins": [{"name": "10-wait-docker.conf", "contents": "[Unit]\nAfter=var-lib-docker.mount\nRequires=var-lib-docker.mount\n"}], "name": "docker.service"}, {"enable": true, "name": "registry.service", "contents": "[Unit]\nDescription=Registry\nAfter=docker.service\n\n[Service]\nRestartSec=10s\nRestart=on-failure\nExecStartPre=-/usr/bin/docker kill registry1\nExecStartPre=-/usr/bin/docker rm registry1\nExecStart=/usr/bin/docker run -p 5000:5000 -v registry-data:/var/lib/registry -v registry-certs:/certs -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt -e REGISTRY_HTTP_TLS_KEY=/certs/domain.key --name registry1 registry:\nExecStop=/usr/bin/docker stop -t 2 registry1\n"}, {"enable": true, "name": "gogs.service", "contents": "[Unit]\nDescription=gogs\nAfter=docker.service\n\n[Service]\nRestartSec=10s\nRestart=on-failure\nExecStartPre=-/usr/bin/docker kill gogs1\nExecStartPre=-/usr/bin/docker rm gogs1\nExecStart=/usr/bin/docker run --name gogs1 -p 3000:3000 -p 3001:22 -v gogs-data:/data stable:5000/flowercluster-gogs\nExecStop=/usr/bin/docker stop -t 2 gogs\n"}, {"enable": true, "name": "development.service", "contents": "[Unit]\nAfter=docker.service\n\n[Service]\nRestartSec=10s\nRestart=on-failure\nExecStartPre=-/usr/bin/docker kill development1\nExecStartPre=-/usr/bin/docker rm development1\nExecStart=/usr/bin/docker run --name development1 -v home-data:/home -p 2222:22 stable:5000/development /usr/sbin/sshd -D\nExecStop=/usr/bin/docker stop -t 2 development1\n"}], "ignition": {"version": "2.0.0"}}